<html>
	<head>
	  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	  <script type="text/javascript">
		{% for product in products %}
		google.charts.load('current', {'packages':['corechart', 'line']});
		google.charts.setOnLoadCallback(drawChart);
  
		function drawChart() {
		  var data = google.visualization.arrayToDataTable([
			['Date', 'Rank', 'Price'],
			{% for item in product.product %}
				["{{ item.date }}", {{ item.rank }}, {{ item.price }}],
			{% endfor %}
			// ['2004',  1000,      400],
			// ['2005',  1170,      460],
			// ['2006',  100, 1120],
			// ['2007',  1030,      540],
			// ['2007',  '',      540],
			// ['2007',  1030,      540],
			// ['2007',  1030,      540],
		  ]);
  
		  var materialOptions = {
			chart: {
				title: '{{ title }} , ASIN:{{ asin }}'
			},
			width: 1000,
			height: 600,
			series: {
			// Gives each series an axis name that matches the Y-axis below.
			0: {axis: 'Rank'},
			1: {axis: 'Price'}
			},
			axes: {
			// Adds labels to each axis; they don't have to match the axis names.
			y: {
				Rank: {label: 'Rank'},
				Price: {label: 'Price'}
			}
			}
		  };
		//   var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));
		//   var chart_1 = new google.visualization.LineChart(document.getElementById('curve_chart_1'));
          var chart = new google.charts.Line(document.getElementById("{{ product.asin }}"));
		  chart.draw(data, materialOptions);
		//   chart_1.draw(data, options);
		}
		{% endfor %}
	  </script>
	</head>
	<body>
	{% for product in products %}
	  <div id="{{ product.asin }}" style="width: 900px; height: 500px"></div>
	{% endfor %}
	  {# <div id="curve_chart_1" style="width: 900px; height: 500px"></div> #}
	</body>
  </html>