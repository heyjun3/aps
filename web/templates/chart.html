<!DOCTYPE html>
<html lang='ja'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <script src="{{ url_for('static', filename='node_modules/chart.js/dist/chart.js') }}"></script>
    <title>Chart.js</title>
    <style>
        .info {
            text-align: right;
        }
        a:visited {color: red}
    </style>
</head>
<body>
    {% for product in products_list %}
    <div style="width:65%;">
        <h2>{{ product.title }}</h2>
        <canvas id="{{ product.asin }}" width="300px" height="150px"></canvas>
	    <h3 class="info">JAN : {{ product.jan }} <a href="https://www.amazon.co.jp/dp/{{ product.asin }}" target="_blank" rel="noopener noreferrer"> ASIN : {{ product.asin }}</a><h3>
    </div>
    {% endfor %}
    <script src="{{ url_for('static', filename='main.js') }}"></script>
    {% for product in products_list %}
        <script>var date = {{ product.date | tojson }};</script>
        <script>var price = {{ product.price | tojson }};</script>
        <script>var rank = {{ product.rank | tojson }};</script>
        <script>drawChart("{{ product.asin }}", date, price, rank)</script>
    {% endfor %}
</body>
</html>